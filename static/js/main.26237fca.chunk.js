(this["webpackJsonpgoogle-books-search"]=this["webpackJsonpgoogle-books-search"]||[]).push([[0],{20:function(e,t,o){e.exports={inscription:"Plug_inscription__AKR47"}},33:function(e,t,o){e.exports={loadingWheel:"Preloader_loadingWheel__3-pX4"}},38:function(e,t,o){},4:function(e,t,o){e.exports={searchingArea:"SearchingArea_searchingArea__13wYk",title:"SearchingArea_title__1I7h_",input:"SearchingArea_input__2nnWb",button:"SearchingArea_button__17xwR",selectorTitle:"SearchingArea_selectorTitle__3drr0",selector:"SearchingArea_selector__2mTMa",selectorField:"SearchingArea_selectorField__YpkaX"}},5:function(e,t,o){e.exports={chosenBookInfo:"ChosenBookInfo_chosenBookInfo__3JO1L",bookCover:"ChosenBookInfo_bookCover__1yaKw",content:"ChosenBookInfo_content__tOEjz",categoriesList:"ChosenBookInfo_categoriesList__1GpH8",title:"ChosenBookInfo_title__1pafH",authorsList:"ChosenBookInfo_authorsList__2MZRh",description:"ChosenBookInfo_description__3qAQX",button:"ChosenBookInfo_button__1Lufv"}},65:function(e,t,o){},67:function(e,t,o){"use strict";o.r(t);var n=o(1),s=o.n(n),c=o(11),a=o.n(c),r=(o(38),o(6)),i=o(21),l=o(2),u=o(31),h=o.n(u),d=o.p+"static/media/no-image.22ec51c8.jpg",j=function(e,t,o,n){var s=""===e?"books":e,c="all"===t?"":"+subject=".concat(t),a="relevance"===o?"":"&orderBy=".concat(o);return h.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(s).concat(c).concat("&key=AIzaSyCgLO4tHe1Ws7-8rjgyvmsfs27VUV0PhKk").concat(a,"&maxResults=12&startIndex=").concat(n)).then((function(e){return function(e){return 0===e.data.totalItems||!1===e.data.hasOwnProperty("items")?"STOP":{totalItems:e.data.totalItems,items:e.data.items.map((function(e){return!1===e.volumeInfo.hasOwnProperty("imageLinks")&&(e.volumeInfo.imageLinks={thumbnail:d}),!1===e.volumeInfo.hasOwnProperty("categories")&&(e.volumeInfo.categories=[""]),!1===e.volumeInfo.hasOwnProperty("authors")&&(e.volumeInfo.authors=[""]),!1===e.volumeInfo.hasOwnProperty("title")&&(e.volumeInfo.title=""),e}))}}(e)})).catch((function(e){return alert(e),"ERROR"}))},b=o(19),O="UPDATE_SEARCHING_FIELD_TEXT",g="UPDATE_SORTING_METHOD",m="UPDATE_SUBJECT",k="ADD_FOUND_BOOKS",_="SET_TOTAL_ITEMS",f="LOAD_MORE",p="RESET_OPTIONS",x="FETCHING_TOGGLE",v=function(e){return{type:x,fetchingStatus:e}},B="SET_CHOSEN_BOOK",I="DELETE_CHOSEN_BOOK",C={books:[],searchingField:"",sortingMethod:"relevance",subject:"all",totalItems:null,startIndex:0,isFetching:!1,chosenBook:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(l.a)(Object(l.a)({},e),{},{searchingField:t.newText});case g:return Object(l.a)(Object(l.a)({},e),{},{sortingMethod:t.newSortingMethod});case m:return Object(l.a)(Object(l.a)({},e),{},{subject:t.newSubject});case k:return Object(l.a)(Object(l.a)({},e),{},{books:Object(b.uniqBy)(t.foundBooks,"id")});case _:return Object(l.a)(Object(l.a)({},e),{},{totalItems:t.totalItems});case f:return Object(l.a)(Object(l.a)({},e),{},{startIndex:t.currentIndex+12,books:Object(b.uniqBy)([].concat(Object(i.a)(e.books),Object(i.a)(t.newBooks)),"id")});case p:return Object(l.a)(Object(l.a)({},e),{},{startIndex:0,books:[],chosenBook:!1});case x:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.fetchingStatus});case B:return Object(l.a)(Object(l.a)({},e),{},{chosenBook:t.chosenBook});case I:return Object(l.a)(Object(l.a)({},e),{},{chosenBook:!1});default:return e}},S=o(17),N=o(32),T=(0,o(17).createStore)(y,Object(S.applyMiddleware)(N.a)),F=(o(65),o(12)),M=o(13),w=o(15),E=o(14),L=o(4),A=o.n(L),R=o(33),P=o.n(R),D=o.p+"static/media/preloader.df4b73fd.svg",G=o(0),H=function(){return Object(G.jsx)("div",{children:Object(G.jsx)("img",{className:P.a.loadingWheel,src:D,alt:"Loading wheel"})})},U=function(e){var t=e.searchingField,o=e.subject,n=e.sortingMethod,s=e.startIndex,c=e.isFetching,a=e.searchBooks,r=e.updateSearchingFieldText,i=e.updateSortingMethod,l=e.updateSubject;return Object(G.jsxs)("div",{className:A.a.searchingArea,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:A.a.title,children:"Google search books"}),Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(t,o,n,s)},children:[Object(G.jsx)("input",{className:A.a.input,onChange:function(e){return r(e.target.value)},type:"text",value:t}),Object(G.jsx)("button",{className:A.a.button,type:"submit",children:"Search"}),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:A.a.selector,children:[Object(G.jsx)("div",{className:A.a.selectorTitle,children:"Sorting by:"}),Object(G.jsxs)("select",{className:A.a.selectorField,defaultValue:"relevance",onChange:function(e){return i(e.target.value)},children:[Object(G.jsx)("option",{value:"relevance",children:"Relevance"}),Object(G.jsx)("option",{value:"newest",children:"Newest"})]})]}),Object(G.jsxs)("div",{className:A.a.selector,children:[Object(G.jsx)("div",{className:A.a.selectorTitle,children:"Categories:"}),Object(G.jsxs)("select",{className:A.a.selectorField,defaultValue:"all",onChange:function(e){return l(e.target.value)},children:[Object(G.jsx)("option",{value:"all",children:"All"}),Object(G.jsx)("option",{value:"art",children:"Art"}),Object(G.jsx)("option",{value:"biography",children:"Biography"}),Object(G.jsx)("option",{value:"computers",children:"Computers"}),Object(G.jsx)("option",{value:"history",children:"History"}),Object(G.jsx)("option",{value:"medical",children:"Medical"}),Object(G.jsx)("option",{value:"poetry",children:"Poetry"})]})]})]})]})]}),Object(G.jsx)("div",{children:"searching"===c?Object(G.jsx)(H,{}):null})]})},W=(s.a.Component,Object(r.b)((function(e){return{searchingField:e.searchingField,subject:e.subject,sortingMethod:e.sortingMethod,startIndex:e.startIndex,isFetching:e.isFetching}}),{searchBooks:function(e,t,o,n){return function(s){s({type:p}),s(v("searching")),j(e,t,o,n).then((function(e){if("STOP"===e)return alert("Sorry, there are no books on your request."),void s(v(!1));var t,o;"ERROR"!==e?(s(v(!1)),s((t=e.items,{type:k,foundBooks:t})),s((o=e.totalItems,{type:_,totalItems:o}))):s(v(!1))}))}},updateSearchingFieldText:function(e){return{type:O,newText:e}},updateSortingMethod:function(e){return{type:g,newSortingMethod:e}},updateSubject:function(e){return{type:m,newSubject:e}}})(U)),q=o(5),K=o.n(q),J=function(e){var t=e.collection,o=e.className,n=t.map((function(e,t){return Object(G.jsx)("li",{children:e},t.toString())}));return Object(G.jsx)("ul",{className:o,children:n})},V=function(e){var t=e.chosenBook,o=t.categories,n=t.title,s=t.authors,c=t.description,a=e.chosenBook.imageLinks.thumbnail;return Object(G.jsxs)("div",{className:K.a.chosenBookInfo,children:[Object(G.jsx)("img",{className:K.a.bookCover,src:a,alt:"Book cover"}),Object(G.jsxs)("div",{className:K.a.content,children:[Object(G.jsx)(J,{collection:o,className:K.a.categoriesList}),Object(G.jsx)("div",{className:K.a.title,children:n}),Object(G.jsx)(J,{collection:s,className:K.a.authorsList}),Object(G.jsx)("div",{className:K.a.description,children:c}),Object(G.jsx)("button",{className:K.a.button,onClick:e.deleteChosenBook,children:"Back"})]})]})},X=o(8),Y=o.n(X),Z=o(7),z=o.n(Z),Q=function(e){var t=e.volumeInfo,o=t.categories,n=t.title,s=t.authors,c=e.volumeInfo.imageLinks.thumbnail,a=e.setChosenBook;return Object(G.jsxs)("div",{onClick:function(){a(e.volumeInfo)},className:z.a.bookCard,children:[Object(G.jsx)("img",{className:z.a.bookCover,src:c,alt:"Book cover"}),Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:z.a.category,children:o[0]}),Object(G.jsx)("p",{className:z.a.title,children:n}),Object(G.jsx)(J,{collection:s,className:z.a.authorsList})]})]})},$=function(e){var t=e.setChosenBook,o=e.searchingField,n=e.subject,s=e.sortingMethod,c=e.startIndex,a=e.loadMoreBooks,r=e.totalItems,i=e.books,l=e.isFetching;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:Y.a.totalItems,children:["Total items: ",r]}),Object(G.jsx)("div",{className:Y.a.booksContainer,children:i.map((function(e){return Object(G.jsx)(Q,{setChosenBook:t,volumeInfo:e.volumeInfo},e.id)}))}),Object(G.jsxs)("div",{className:Y.a.loadMore,children:[Object(G.jsx)("button",{className:Y.a.button,onClick:function(e){e.preventDefault(),a(o,n,s,c+12)},children:"Load more"}),Object(G.jsx)("div",{children:"loadingMore"===l?Object(G.jsx)(H,{}):null})]})]})},ee=o(20),te=o.n(ee),oe=function(e){return e.isFetching?Object(G.jsx)("div",{className:te.a.inscription,children:"Searching..."}):Object(G.jsx)("div",{className:te.a.inscription,children:"What kind of book do you want?"})},ne=function(e){var t=e.books,o=e.totalItems,n=e.startIndex,s=e.searchingField,c=e.chosenBook,a=e.deleteChosenBook,r=e.subject,i=e.sortingMethod,l=e.isFetching,u=e.loadMoreBooks,h=e.setChosenBook;return 0===t.length?Object(G.jsx)(oe,{isFetching:l}):c?Object(G.jsx)(V,{chosenBook:c,deleteChosenBook:a}):Object(G.jsx)($,{loadMoreBooks:u,setChosenBook:h,searchingField:s,startIndex:n,totalItems:o,subject:r,sortingMethod:i,books:t,isFetching:l})},se=(s.a.Component,Object(r.b)((function(e){return{books:e.books,totalItems:e.totalItems,startIndex:e.startIndex,searchingField:e.searchingField,subject:e.subject,sortingMethod:e.sortingMethod,isFetching:e.isFetching,chosenBook:e.chosenBook}}),{loadMoreBooks:function(e,t,o,n){return function(s){s(v("loadingMore")),j(e,t,o,n).then((function(e){if("STOP"===e)return alert("Sorry, there are no more books on your request."),void s(v(!1));var t;"ERROR"!==e?(s(v(!1)),s((t=e.items,{type:f,newBooks:t,currentIndex:n}))):s(v(!1))}))}},setChosenBook:function(e){return{type:B,chosenBook:e}},deleteChosenBook:function(){return{type:I}}})(ne)),ce=function(){return Object(G.jsxs)("div",{className:"app-wrapper",children:[Object(G.jsx)(W,{}),Object(G.jsx)(se,{})]})};a.a.render(Object(G.jsx)(r.a,{store:T,children:Object(G.jsx)(ce,{})}),document.getElementById("root"))},7:function(e,t,o){e.exports={bookCard:"BookCard_bookCard__1yxjf",bookCover:"BookCard_bookCover__2EZWT",category:"BookCard_category__3R9kp",title:"BookCard_title__1_yIR",authorsList:"BookCard_authorsList__2Gf1D"}},8:function(e,t,o){e.exports={booksContainer:"BooksList_booksContainer__1U-d3",totalItems:"BooksList_totalItems__2bUPE",loadMore:"BooksList_loadMore__GbonD",button:"BooksList_button__YcUZ2"}}},[[67,1,2]]]);
//# sourceMappingURL=main.26237fca.chunk.js.map